# 变更日志

## 2025-09-09

### 新功能
- **机师管理系统**：完整实现机师管理功能模块，包括数据模型、路由控制、前端界面
- **机师数据模型**：创建Pilot和PilotChangeLog模型，支持机师基础信息、业务信息、关联信息管理
- **权限控制**：实现基于角色的访问控制，议长可管理所有机师，舰长只能管理自己的机师
- **变更记录**：自动记录机师信息变更历史，包括操作用户、变更字段、时间、IP地址等
- **数据验证**：实现前后端双重数据验证，确保业务规则和数据完整性
- **响应式界面**：创建符合项目UI风格的机师管理界面，支持移动端访问

### 功能特性
- **机师列表**：支持按阶级、状态、所属、创建时间等条件筛选，卡片式布局展示
- **机师详情**：分组显示机师基础信息、业务信息、系统信息，提供编辑和变更记录查看
- **机师新建/编辑**：分组表单设计，实时验证，支持所有业务字段的设置和修改
- **变更记录**：模态框展示最近100条变更记录，按时间降序排列
- **枚举管理**：支持性别、平台、参战形式、阶级、状态等枚举字段的完整管理

### 技术实现
- **数据模型**：使用MongoEngine实现文档数据库模型，支持枚举类型和数据验证
- **路由设计**：RESTful风格的蓝图设计，使用/pilots前缀，支持CRUD操作
- **模板系统**：基于Jinja2的响应式模板，继承项目统一的UI风格
- **日志记录**：独立的pilot模块日志，记录关键操作和错误信息
- **测试体系**：完整的pytest测试覆盖，包括单元测试和集成测试


