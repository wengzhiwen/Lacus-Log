# åŸºç¡€-ä»ªè¡¨æ¿è®¾è®¡

## æ¦‚è¿°

ä»ªè¡¨æ¿æ˜¯ç”¨æˆ·é¦–é¡µçš„æ ¸å¿ƒç»„ä»¶ï¼Œç”¨äºå±•ç¤ºå…³é”®ä¸šåŠ¡æ•°æ®çš„ç»Ÿè®¡ä¿¡æ¯ã€‚é‡‡ç”¨å¡ç‰‡å¼è®¾è®¡ï¼Œæ”¯æŒå“åº”å¼å¸ƒå±€ï¼Œç¡®ä¿åœ¨ç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯éƒ½æœ‰è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒã€‚

## è®¾è®¡åŸåˆ™

- **æ•°æ®å±‚æ¬¡åŒ–**ï¼šä¸»è¦æ•°æ®çªå‡ºæ˜¾ç¤ºï¼Œå‰¯æ•°æ®ä½œä¸ºè¡¥å……ä¿¡æ¯
- **å“åº”å¼è®¾è®¡**ï¼šç§»åŠ¨ç«¯ä¼˜å…ˆï¼Œæ¡Œé¢ç«¯ä¼˜åŒ–
- **è§†è§‰ä¸€è‡´æ€§**ï¼šä¸æ•´ä½“UIé£æ ¼ä¿æŒä¸€è‡´
- **ä¿¡æ¯å¯†åº¦é€‚ä¸­**ï¼šé¿å…ä¿¡æ¯è¿‡è½½ï¼Œä¿æŒæ¸…æ™°å¯è¯»

## å¡ç‰‡è®¾è®¡è§„èŒƒ

### åŸºæœ¬ç»“æ„

æ¯ä¸ªå¡ç‰‡åŒ…å«ä»¥ä¸‹åŸºæœ¬å…ƒç´ ï¼š
- **å¡ç‰‡å¤´éƒ¨**ï¼šæ ‡é¢˜ + å›¾æ ‡
- **å¡ç‰‡ä¸»ä½“**ï¼šä¸»è¦æ•°æ® + å‰¯æ•°æ®ï¼ˆå¯é€‰ï¼‰

### ä¸‰ç§å¡ç‰‡å¸ƒå±€æ¨¡å¼

#### 1. å•ä¸»è¦æ•°æ®å¡ç‰‡
é€‚ç”¨äºåªéœ€è¦å±•ç¤ºä¸€ä¸ªæ ¸å¿ƒæŒ‡æ ‡çš„åœºæ™¯ã€‚

**HTMLç»“æ„ï¼š**
```html
<div class="card">
  <div class="card-header">
    <div class="card-title">æ•°æ®æ ‡é¢˜</div>
    <div class="card-icon">ğŸ“Š</div>
  </div>
  <div class="card-body">
    <div class="main-data">
      <div class="main-value">123</div>
      <div class="main-label">æ•°æ®è¯´æ˜</div>
    </div>
  </div>
</div>
```

**CSSæ ·å¼ï¼š**
```css
.card-body {
  padding: 0;
}

.main-data {
  text-align: center;
  padding: 20px 0;
}

.main-value {
  font-size: 36px;
  font-weight: 700;
  color: var(--brand);
  margin-bottom: 8px;
  line-height: 1;
}

.main-label {
  font-size: 16px;
  color: var(--text);
  font-weight: 600;
}
```

#### 2. 1ä¸ªä¸»è¦æ•°æ® + 1ä¸ªå‰¯æ•°æ®å¡ç‰‡
é€‚ç”¨äºéœ€è¦å±•ç¤ºæ ¸å¿ƒæŒ‡æ ‡å’Œ1ä¸ªç›¸å…³è¡¥å……ä¿¡æ¯çš„åœºæ™¯ã€‚

**HTMLç»“æ„ï¼š**
```html
<div class="card">
  <div class="card-header">
    <div class="card-title">æ•°æ®æ ‡é¢˜</div>
    <div class="card-icon">ğŸ“Š</div>
  </div>
  <div class="card-body">
    <div class="main-data">
      <div class="main-value">123</div>
      <div class="main-label">ä¸»è¦æ•°æ®è¯´æ˜</div>
    </div>
    <div class="sub-data">
      <div class="sub-item">
        <div class="sub-value">+15.2%</div>
        <div class="sub-label">å‰¯æ•°æ®è¯´æ˜</div>
      </div>
    </div>
  </div>
</div>
```

**CSSæ ·å¼ï¼š**
```css
.main-data {
  text-align: center;
  margin-bottom: 20px;
  padding-bottom: 20px;
  border-bottom: 1px solid var(--table-header);
}

.sub-data {
  display: flex;
  justify-content: center;
  gap: 20px;
}

.sub-item {
  text-align: center;
}

.sub-value {
  font-size: 20px;
  font-weight: 600;
  color: var(--text);
  margin-bottom: 4px;
  line-height: 1;
}

.sub-label {
  font-size: 12px;
  color: var(--muted);
  font-weight: 500;
}
```

#### 3. 1ä¸ªä¸»è¦æ•°æ® + 2ä¸ªå‰¯æ•°æ®å¡ç‰‡ï¼ˆå½“å‰å®ç°ï¼‰
é€‚ç”¨äºéœ€è¦å±•ç¤ºæ ¸å¿ƒæŒ‡æ ‡å’Œ2ä¸ªç›¸å…³è¡¥å……ä¿¡æ¯çš„åœºæ™¯ã€‚

**HTMLç»“æ„ï¼š**
```html
<div class="card">
  <div class="card-header">
    <div class="card-title">æ•°æ®æ ‡é¢˜</div>
    <div class="card-icon">ğŸ“Š</div>
  </div>
  <div class="card-body">
    <div class="main-data">
      <div class="main-value">123</div>
      <div class="main-label">ä¸»è¦æ•°æ®è¯´æ˜</div>
    </div>
    <div class="sub-data">
      <div class="sub-item">
        <div class="sub-value positive">+15.2%</div>
        <div class="sub-label">å‰¯æ•°æ®1</div>
      </div>
      <div class="sub-item">
        <div class="sub-value">8.5</div>
        <div class="sub-label">å‰¯æ•°æ®2</div>
      </div>
    </div>
  </div>
</div>
```

**CSSæ ·å¼ï¼š**
```css
.main-data {
  text-align: center;
  margin-bottom: 20px;
  padding-bottom: 20px;
  border-bottom: 1px solid var(--table-header);
}

.sub-data {
  display: flex;
  justify-content: space-around;
  gap: 20px;
}

.sub-item {
  text-align: center;
  flex: 1;
}

.sub-value {
  font-size: 20px;
  font-weight: 600;
  color: var(--text);
  margin-bottom: 4px;
  line-height: 1;
}

.sub-value.positive {
  color: var(--hud-green);
}

.sub-value.negative {
  color: var(--error);
}

.sub-label {
  font-size: 12px;
  color: var(--muted);
  font-weight: 500;
}
```

## é€šç”¨æ ·å¼è§„èŒƒ

### å¡ç‰‡åŸºç¡€æ ·å¼
```css
.card { 
  border: 1px solid var(--gray); 
  border-radius: 12px; 
  padding: 20px; 
  background: #fff;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  transition: all 0.2s ease;
}

.card:hover {
  box-shadow: 0 4px 16px rgba(0,0,0,0.12);
  transform: translateY(-2px);
}

.card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 16px;
}

.card-title { 
  font-weight: 600; 
  font-size: 16px;
  color: var(--text); 
  margin: 0;
}

.card-icon {
  font-size: 24px;
  opacity: 0.7;
}
```

### é¢œè‰²è§„èŒƒ
- **ä¸»è¦æ•°æ®**ï¼šä½¿ç”¨å“ç‰Œè‰² `var(--brand)` (#8B0000)
- **æ­£æ•°å˜åŒ–**ï¼šä½¿ç”¨ç»¿è‰² `var(--hud-green)` (#00B37A)
- **è´Ÿæ•°å˜åŒ–**ï¼šä½¿ç”¨çº¢è‰² `var(--error)` (#FF4500)
- **æ™®é€šå‰¯æ•°æ®**ï¼šä½¿ç”¨æ–‡æœ¬è‰² `var(--text)` (#111111)
- **æ ‡ç­¾æ–‡å­—**ï¼šä½¿ç”¨ç°è‰² `var(--muted)` (#666666)

### å­—ä½“è§„èŒƒ
- **ä¸»è¦æ•°æ®æ•°å€¼**ï¼š36pxï¼Œç²—ä½“ï¼Œè¡Œé«˜1
- **ä¸»è¦æ•°æ®æ ‡ç­¾**ï¼š16pxï¼Œä¸­ç­‰ç²—ç»†
- **å‰¯æ•°æ®æ•°å€¼**ï¼š20pxï¼ˆç§»åŠ¨ç«¯ï¼‰/ 24pxï¼ˆæ¡Œé¢ç«¯ï¼‰ï¼Œä¸­ç­‰ç²—ç»†
- **å‰¯æ•°æ®æ ‡ç­¾**ï¼š12pxï¼ˆç§»åŠ¨ç«¯ï¼‰/ 14pxï¼ˆæ¡Œé¢ç«¯ï¼‰ï¼Œä¸­ç­‰ç²—ç»†

## å“åº”å¼è®¾è®¡

### ç§»åŠ¨ç«¯ï¼ˆé»˜è®¤ï¼‰
- å¡ç‰‡å®½åº¦è‡ªé€‚åº”å±å¹•å®½åº¦
- å‰¯æ•°æ®é—´è·ï¼š20px
- å‰¯æ•°æ®å­—ä½“ï¼š20px

### æ¡Œé¢ç«¯ï¼ˆ768px+ï¼‰
- å¡ç‰‡æœ€å¤§å®½åº¦ï¼š600pxï¼Œå±…ä¸­æ˜¾ç¤º
- å‰¯æ•°æ®é—´è·ï¼š40px
- å‰¯æ•°æ®å­—ä½“ï¼š24px

```css
@media (min-width: 768px) {
  .dashboard .cards {
    max-width: 600px;
    margin: 0 auto;
  }
  
  .sub-data {
    gap: 40px;
  }
  
  .sub-value {
    font-size: 24px;
  }
  
  .sub-label {
    font-size: 14px;
  }
}
```

## å¸ƒå±€å®¹å™¨

### å¡ç‰‡å®¹å™¨
```css
.dashboard .cards { 
  display: grid; 
  grid-template-columns: 1fr; 
  gap: 16px; 
}
```

### é¡µé¢ç»“æ„
```html
<section class="dashboard">
  <h1 class="title">ä»ªè¡¨ç›˜</h1>
  <div class="cards">
    <!-- å¡ç‰‡å†…å®¹ -->
  </div>
</section>
```

## ä½¿ç”¨æŒ‡å—

### åˆ›å»ºæ–°å¡ç‰‡æ­¥éª¤

1. **ç¡®å®šæ•°æ®ç±»å‹**ï¼šæ ¹æ®ä¸šåŠ¡éœ€æ±‚é€‰æ‹©1ç§ã€2ç§æˆ–3ç§æ•°æ®å¸ƒå±€
2. **é€‰æ‹©å›¾æ ‡**ï¼šä½¿ç”¨åˆé€‚çš„emojiå›¾æ ‡ï¼Œå»ºè®®ä½¿ç”¨ğŸ“ŠğŸ“ˆğŸ“…ğŸ“‹ç­‰
3. **ç¼–å†™HTML**ï¼šæŒ‰ç…§å¯¹åº”çš„HTMLç»“æ„æ¨¡æ¿ç¼–å†™
4. **åº”ç”¨æ ·å¼**ï¼šç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„CSSç±»å
5. **æµ‹è¯•å“åº”å¼**ï¼šåœ¨ä¸åŒå±å¹•å°ºå¯¸ä¸‹æµ‹è¯•æ˜¾ç¤ºæ•ˆæœ

### æ•°æ®è®¡ç®—å»ºè®®

- **ä¸»è¦æ•°æ®**ï¼šé€‰æ‹©æœ€æ ¸å¿ƒçš„ä¸šåŠ¡æŒ‡æ ‡
- **å‰¯æ•°æ®**ï¼šé€‰æ‹©ä¸ä¸»è¦æ•°æ®ç›¸å…³çš„è¡¥å……ä¿¡æ¯
- **æ•°å€¼æ ¼å¼**ï¼šç™¾åˆ†æ¯”ä¿ç•™1ä½å°æ•°ï¼Œå…¶ä»–æ•°å€¼æ ¹æ®ç²¾åº¦éœ€æ±‚ç¡®å®š
- **é¢œè‰²åº”ç”¨**ï¼šæ­£è´Ÿå˜åŒ–ä½¿ç”¨é¢œè‰²åŒºåˆ†ï¼Œæ™®é€šæ•°å€¼ä½¿ç”¨é»˜è®¤é¢œè‰²

## ç¤ºä¾‹å®ç°

å½“å‰ä½œæˆ˜è®¡åˆ’ç»Ÿè®¡å¡ç‰‡çš„å®Œæ•´å®ç°ï¼š

**åç«¯æ•°æ®è®¡ç®—ï¼š**
```python
def _calculate_dashboard_data():
    """è®¡ç®—ä»ªè¡¨æ¿æ•°æ®"""
    now = get_current_utc_time()
    today_start = now.replace(hour=0, minute=0, second=0, microsecond=0)
    today_end = today_start + timedelta(days=1)
    yesterday_start = today_start - timedelta(days=1)
    yesterday_end = today_start
    week_start = today_start - timedelta(days=7)
    
    # ä»Šæ—¥ä½œæˆ˜è®¡åˆ’æ•°é‡
    today_count = Announcement.objects(
        start_time__gte=today_start,
        start_time__lt=today_end
    ).count()
    
    # æ˜¨æ—¥ä½œæˆ˜è®¡åˆ’æ•°é‡
    yesterday_count = Announcement.objects(
        start_time__gte=yesterday_start,
        start_time__lt=yesterday_end
    ).count()
    
    # è®¡ç®—ç¯æ¯”
    if yesterday_count > 0:
        change_rate = round(((today_count - yesterday_count) / yesterday_count) * 100, 1)
    else:
        change_rate = 100.0 if today_count > 0 else 0.0
    
    # æœ€è¿‘7å¤©çš„æ—¥å‡ä½œæˆ˜è®¡åˆ’æ•°é‡
    week_count = Announcement.objects(
        start_time__gte=week_start,
        start_time__lt=today_end
    ).count()
    week_avg = round(week_count / 7, 1)
    
    return {
        'today_count': today_count,
        'change_rate': change_rate,
        'week_avg': week_avg
    }
```

**å‰ç«¯æ¨¡æ¿ï¼š**
```html
<div class="card">
  <div class="card-header">
    <div class="card-title">ä½œæˆ˜è®¡åˆ’ç»Ÿè®¡</div>
    <div class="card-icon">ğŸ“Š</div>
  </div>
  <div class="card-body">
    <div class="main-data">
      <div class="main-value">{{ dashboard_data.today_count }}</div>
      <div class="main-label">ä»Šæ—¥ä½œæˆ˜è®¡åˆ’</div>
    </div>
    <div class="sub-data">
      <div class="sub-item">
        <div class="sub-value {% if dashboard_data.change_rate >= 0 %}positive{% else %}negative{% endif %}">
          {% if dashboard_data.change_rate >= 0 %}+{% endif %}{{ dashboard_data.change_rate }}%
        </div>
        <div class="sub-label">ç¯æ¯”</div>
      </div>
      <div class="sub-item">
        <div class="sub-value">{{ dashboard_data.week_avg }}</div>
        <div class="sub-label">7æ—¥å¹³å‡</div>
      </div>
    </div>
  </div>
</div>
```

## æ³¨æ„äº‹é¡¹

1. **æ•°æ®æ›´æ–°**ï¼šç¡®ä¿åç«¯æ•°æ®è®¡ç®—é€»è¾‘æ­£ç¡®ï¼Œç‰¹åˆ«æ˜¯æ—¶é—´èŒƒå›´çš„è®¡ç®—
2. **æ€§èƒ½è€ƒè™‘**ï¼šé¿å…åœ¨ä»ªè¡¨æ¿ä¸­è¿›è¡Œå¤æ‚çš„æ•°æ®åº“æŸ¥è¯¢
3. **é”™è¯¯å¤„ç†**ï¼šå½“æ•°æ®ä¸ºç©ºæˆ–å¼‚å¸¸æ—¶ï¼Œæä¾›åˆç†çš„é»˜è®¤å€¼
4. **å¯è®¿é—®æ€§**ï¼šç¡®ä¿é¢œè‰²ä¸æ˜¯å”¯ä¸€çš„åŒºåˆ†æ–¹å¼ï¼Œé…åˆæ–‡å­—è¯´æ˜
5. **å›½é™…åŒ–**ï¼šå¦‚æœæ”¯æŒå¤šè¯­è¨€ï¼Œç¡®ä¿æ‰€æœ‰æ–‡å­—éƒ½å¯ä»¥æœ¬åœ°åŒ–
